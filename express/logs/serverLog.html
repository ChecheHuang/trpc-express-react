<!DOCTYPE html>
<html>

<head>
    <title>讀取JSON</title>
</head>

<body>
    <script>
        function replaceUndefined(obj) {
            for (const key in obj) {
                if (
                    Object.prototype.hasOwnProperty.call(obj, key) &&
                    obj[key] === undefined
                ) {
                    obj[key] = 'undefined'
                } else if (typeof obj[key] === 'object' && obj[key] !== null) {
                    replaceUndefined(obj[key])
                }
            }
            return obj
        }
        function log(data) {
            const processedData = replaceUndefined(data)
            const jsonData = JSON.stringify(processedData, null, 2)
            const pre = document.createElement('pre')
            pre.textContent = jsonData
            document.body.appendChild(pre)
        }


        fetch('serverLog.json')
            .then(response => response.json())
            .then(data => {
                log(data);
            })
            .catch(error => {
                console.error('读取 JSON 文件时发生错误:', error);
            });
    </script>
</body>

</html>